<Window x:Class="Clock.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Clock"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        d:DataContext="{d:DesignInstance local:Settings}"
        mc:Ignorable="d"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        SizeToContent="WidthAndHeight"
        ShowInTaskbar="False"
        Topmost="True"
        Opacity="{Binding Opacity}"
        Top="{Binding Top, Mode=TwoWay}"
        Left="{Binding Left, Mode=TwoWay}"
        >
    <Window.Resources>
        <local:ColorToBrushConverter x:Key="ColorToBrushConverter"/>
    </Window.Resources>
    <Window.ContextMenu>
        <ContextMenu Closed="ContextMenu_Closed" >
            <MenuItem Header="Start with Windows" IsCheckable="True" IsChecked="{Binding StartWithWindows}"/>
            <Separator/>
            <MenuItem Header="Lock Position" IsCheckable="True" IsChecked="{Binding IsPositionLocked}"/>
            <GroupBox Header="Height" Width="200">
                <DockPanel>
                    <xctk:DoubleUpDown DockPanel.Dock="Right" Width="50" Increment="10" FormatString="F0" Minimum="20" Maximum="1000" Value="{Binding Height}"/>
                    <Slider Minimum="20" Maximum="1000" Value="{Binding Height}"/>
                </DockPanel>
            </GroupBox>
            <Separator/>
            <GroupBox Header="Segment Length" Width="200">
                <DockPanel>
                    <xctk:DoubleUpDown DockPanel.Dock="Right" Width="50" FormatString="F0" Minimum="1" Maximum="500" Value="{Binding SegmentLength}"/>
                    <Slider Minimum="1" Maximum="500" Value="{Binding SegmentLength}"/>
                </DockPanel>
            </GroupBox>
            <GroupBox Header="Segment Width" Width="200">
                <DockPanel>
                    <xctk:DoubleUpDown DockPanel.Dock="Right" Width="50" Increment="1" FormatString="F0" Minimum="1" Maximum="100" Value="{Binding SegmentWidth}"/>
                    <Slider Minimum="1" Maximum="100" Value="{Binding SegmentWidth}"/>
                </DockPanel>
            </GroupBox>
            <GroupBox Header="Segment Gap" Width="200">
                <DockPanel>
                    <xctk:DoubleUpDown DockPanel.Dock="Right" Width="50" Increment="0.1" FormatString="F1" Minimum="0" Maximum="30" Value="{Binding SegmentGap}"/>
                    <Slider Minimum="0" Maximum="30" Value="{Binding SegmentGap}"/>
                </DockPanel>
            </GroupBox>
            <Separator/>
            <MenuItem Header="Hide for...">
                <MenuItem Header="1 min" Click="Hide_1"/>
                <MenuItem Header="5 min" Click="Hide_5"/>
                <MenuItem Header="15 min" Click="Hide_15"/>
                <MenuItem Header="30 min" Click="Hide_30"/>
                <MenuItem Header="1 hour" Click="Hide_60"/>
            </MenuItem>
            <Separator/>
            <GroupBox Header="Color" Width="200">
                <xctk:ColorPicker SelectedColor="{Binding Color, Mode=TwoWay}"/>
            </GroupBox>
            <GroupBox Header="Opacity" Width="200">
                <DockPanel>
                    <xctk:DoubleUpDown DockPanel.Dock="Right" Width="50" Increment="0.1" FormatString="F1" Minimum="0" Maximum="1" Value="{Binding Opacity}"/>
                    <Slider Minimum="0" Maximum="1" Value="{Binding Opacity}"/>
                </DockPanel>
            </GroupBox>
            <Separator/>
            <MenuItem Header="Close" Click="Close_Click" />
        </ContextMenu>
    </Window.ContextMenu>
    <local:SegmentClock x:Name="clock" Height="{Binding Height}" 
                        VerticalAlignment="Top" 
                        HorizontalAlignment="Left" 
                        SegmentGap="{Binding SegmentGap}"
                        SegmentWidth="{Binding SegmentWidth}"
                        SegmentLength="{Binding SegmentLength}"
                        Foreground="{Binding Color, Converter={StaticResource ColorToBrushConverter}, Mode=OneWay}"/>
</Window>
